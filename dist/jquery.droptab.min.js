!function(s){s.fn.droptab=function(t){function e(t,e,n){if("auto"==f)var a=n.parent().width();else var a=s(f).width();return t>a?("L"==e||""==e)&&("L"==e&&x.call(this),e="S",n.css("height",0).addClass(d).prev().css("display","block")):("S"==e||""==e)&&("S"==e&&x.call(this),e="L",n.css("height","auto").removeClass(d+" "+p).prev().removeClass(p).css("display","none")),e}function n(s,t,e,n){s.addClass(function(){return setTimeout(function(){s.empty().text(n).removeClass(e)},t),e})}function a(s,t,e){if(s.find("."+t).length>0){var n=s.find("."+t).find("a").text();return n}return e}var i=s.extend({breakWidth:"auto",selectBoxClass:"droptab-selector",selectCurrent:"droptab-select-current",selectButton:"droptab-select-button",smallMenuClass:"droptab-small-menu",menuClass:"droptab-menu",menuOpenClass:"open",activeClass:"active",targetWidth:"auto",hiddenMsgClass:"drop-tab-hidden",openMsg:"Choose",msgTransitionTime:250,autoClose:!1,droptabCallback:function(){},droptabSwitch:function(){}},t),l=this,o=i.breakWidth,r=i.selectBoxClass,c=i.selectCurrent,u=i.selectButton,d=i.smallMenuClass,h=i.menuClass,p=i.menuOpenClass,C=i.activeClass,f=i.targetWidth,g=i.hiddenMsgClass,b=i.openMsg,m=i.msgTransitionTime,v=i.autoClose,k=i.droptabCallback,x=i.droptabSwitch;this.addClass(h).before('<div class="'+r+'"><span class="'+c+'"></span><span class="'+u+'">Open Button</span></div>');var w=this.siblings("."+r),M=a(l,C,b);w.find("."+c).text(M),"auto"==o&&(o=0,l.find("li").each(function(){o=o+s(this).outerWidth(!0)+1}));var T=e(o,"",l);w.find("."+u).on("click",function(){var t=s(this),e=s(this).siblings("."+c),i=0;s(this).parent().hasClass(p)?(t.parent().toggleClass(p),l.toggleClass(p).css("height",0),M=a(l,C,b),M&&n(e,m,g,M)):(l.find("li").each(function(){i+=s(this).outerHeight(!0)}).promise().done(function(){t.parent().toggleClass(p),l.css("height",i).toggleClass(p)}),e.text()!=b&&n(e,m,g,b))}),l.find("a").on("click",function(){s(this).closest("."+h).hasClass(d)&&1==v&&setTimeout(function(){w.find("."+u).trigger("click")},250)}),s(window).on("resize",function(){T=e(o,T,l)}),k.call(this)}}(jQuery);